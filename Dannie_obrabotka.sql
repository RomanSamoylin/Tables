-- Создание таблицы для хранения данных
CREATE TABLE PROCESS_DATA (
    ID INT PRIMARY KEY IDENTITY(1,1),
    TIME DATETIME NOT NULL,
    PROCESS VARCHAR(255) NOT NULL,
    MUSP_ENABLED BIT NOT NULL DEFAULT 0,
    SPEPNREQ_ENABLED BIT NOT NULL DEFAULT 0,
    SYSTEM_STATE VARCHAR(255) NOT NULL,
    CORRECTOR_NUMBER INT NOT NULL DEFAULT 0,
    PLC_MESSAGE VARCHAR(255) NOT NULL,
    ALARM VARCHAR(255) NOT NULL,
    FEED FLOAT NOT NULL DEFAULT 0.0,
    SPINDLE_SPEED FLOAT NOT NULL DEFAULT 0.0,
    G_FUNCTIONS VARCHAR(255) NOT NULL,
    BLOCK_NUMBER INT NOT NULL DEFAULT 0
);

-- Создание таблицы для хранения графика
CREATE TABLE GRAPH_DATA (
    ID INT PRIMARY KEY IDENTITY(1,1),
    TIME DATETIME NOT NULL,
    SPINDLE_SPEED FLOAT NOT NULL DEFAULT 0.0,
    FEED FLOAT NOT NULL DEFAULT 0.0
);

-- Вставка данных в таблицы
INSERT INTO PROCESS_DATA (TIME, PROCESS, MUSP_ENABLED, SPEPNREQ_ENABLED, SYSTEM_STATE, CORRECTOR_NUMBER, PLC_MESSAGE, ALARM, FEED, SPINDLE_SPEED, G_FUNCTIONS, BLOCK_NUMBER)
VALUES
('2023-03-01 13:48:50.0602', 'PROCESS:1', 1, 0, 'RESE', 0, 'СТАНОК ВКЛЮЧЕН', '', 0.0, 0.0, '', 0),
('2023-03-01 13:48:50.0619', 'PROCESS:1', 1, 0, 'RESE', 0, '', '', 0.0, 0.0, '', 0),
('2023-03-01 13:48:50.0623', 'PROCESS:1', 1, 0, 'RESE', 0, 'СТАНОК ВЫКЛЮЧЕН', 'СТАНОК ВЫКЛЮЧЕН', 0.0, 0.0, '', 0),
('2023-03-01 13:48:50.0625', 'PROCESS:1', 1, 0, 'RESE', 0, '', '', 0.0, 0.0, '', 0),
('2023-03-01 13:48:50.0652', 'PROCESS:1', 1, 0, 'RESE', 0, 'UAS ENABLED', '', 0.0, 0.0, '', 0),
('2023-03-01 13:48:50.0672', 'PROCESS:1', 1, 0, 'IDLE', 0, 'SYSTEM STATE:IDLE', '', 0.0, 0.0, '', 0),
('2023-03-01 13:48:50.0682', 'PROCESS:1', 0, 0, 'IDLE', 0, 'COMU DISABLED |CEFA DISABLED', '', 0.0, 0.0, '', 0),
('2023-03-01 13:49:37.0598', 'TIME SYNCH', 0, 0, '', 0, '', '', 0.0, 0.0, '', 0),
('2023-03-01 13:49:48.0723', 'PROCESS:1', 0, 1, 'RESE', 0, '', '', 0.0, 0.0, '', 0),
('2023-03-01 13:49:48.0733', 'PROCESS:1', 0, 1, 'RESE', 0, '', '', 0.0, 0.0, '', 0),
('2023-03-01 13:49:48.0773', 'PROCESS:1', 0, 1, 'IDLE', 1, 'SYSTEM STATE:IDLE', 'CONP ENABLED |UAS DISABLED ', 0.0, 0.0, '', 0),
('2023-03-01 13:49:48.0783', 'PROCESS:1', 0, 1, 'IDLE', 1, 'COMU ENABLED |CEFA ENABLED', '', 0.0, 0.0, '', 0),
('2023-03-01 13:49:48.0785', 'PROCESS:1', 0, 1, 'IDLE', 1, 'PLC message:СТАНОК ВКЛЮЧЕН', '', 0.0, 0.0, '', 0),
('2023-03-01 13:49:50.0040', 'PROCESS:1', 0, 1, 'RUN', 1, 'SYSTEM STATE:RUN | SUBROUTINE 1 NAME:P00| PATH:C:\CNC32WIN\MP2\| BLOCK NUMBER:2', '', 0.0, 0.0, '28', 2),
('2023-03-01 13:49:50.0041', 'PROCESS:1', 0, 1, 'RUN', 1, '', '28', 4252.616699, 44.520000, '', 2),
('2023-03-01 13:49:50.0093', 'PROCESS:1', 0, 1, 'RUN', 1, '', '1', 4000.000244, 1666.079956, '', 3),
('2023-03-01 13:49:50.0134', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 1666.199951, '', 4),
('2023-03-01 13:49:50.0164', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 1663.199951, '', 4),
('2023-03-01 13:49:50.0224', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 1666.199951, '', 2),
('2023-03-01 13:49:55.0300', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 8),
('2023-03-01 13:49:55.0302', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 16),
('2023-03-01 13:49:55.0304', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 24),
('2023-03-01 13:49:55.0306', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 32),
('2023-03-01 13:49:55.0308', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 40),
('2023-03-01 13:49:55.0310', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 48),
('2023-03-01 13:49:55.0312', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 56),
('2023-03-01 13:49:55.0314', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 64),
('2023-03-01 13:49:55.0316', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 0.0, 0.0, '2 42', 68),
('2023-03-01 13:49:55.0343', 'PROCESS:1', 0, 1, 'RUN', 1, '', '2 42', 2466.550293, 1667.400024, '', 72),
('2023-03-01 13:49:55.0344', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 4000.000244, 1666.920044, '', 76),
('2023-03-01 13:49:56.0265', 'PROCESS:1', 0, 1, 'RUN', 1, '', '', 4000.000244, 1666.920044, '', 72)